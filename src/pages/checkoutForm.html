<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <link href="../output.css" rel="stylesheet">
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <!-- <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            width: 100%;
            padding: 10px;
            background: #28a745;
            color: white;
            border: none;
            margin-top: 15px;
            cursor: pointer;
        }
        button:hover {
            background: #218838;
        }
    </style> -->
</head>
<body>
<!-- <body class="flex items-center justify-center min-h-screen bg-gray-100 p-4"> -->

  <!-- ======================== Navbar Start ========================= -->
    
        <div class="flex h-16 mt-3 mx-5 justify-between items-center">
            <!-- Logo -->
            <img src="../img/logo.webp" class="w-14 h-14" alt="logo">

            <!-- Desktop Menu (Hidden on Mobile) -->
            <div class="hidden md:flex text-lg items-center space-x-4">
                <a class="hover:bg-orange-500 hover:rounded-full py-2 px-3 font-normal hover:text-white" href="../index.html">Home</a>
                <a class="hover:bg-orange-500 hover:rounded-full py-2 px-3 font-normal hover:text-white" href="./services.html">Services</a>
                <a class="hover:bg-orange-500 hover:rounded-full py-2 px-3 font-normal hover:text-white" href="./aboutUs.html">About Us</a>
                <a class="hover:bg-orange-500 hover:rounded-full py-2 px-3 font-normal hover:text-white" href="./contactUs.html">Contact Us</a>
                <!-- <a class="hover:bg-orange-500 hover:rounded-full py-2 px-3 font-normal hover:text-white" href="./termsAndConditions.html">Terms & Condition</a> -->
            </div>

            <!-- Login/Signup (Hidden on Mobile) 
            <button class="hidden md:flex h-12 w-48 text-lg justify-center items-center bg-slate-950 text-white rounded-full p-2">
                <img src="img/Male User.png" class="w-8 h-7" alt="">
                <p>Login/Signup</p>
            </button> -->

            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="md:hidden text-3xl">
                ☰
            </button>
        </div>
    

        <!-- Mobile Menu (Initially Hidden) -->
        <div id="mobile-menu" class="hidden flex-col items-center space-y-4 p-5 bg-white shadow-lg mt-2 md:hidden">
            <a class="block py-2 px-4 text-lg font-normal hover:bg-orange-500 hover:text-white rounded" href="../index.html">Home</a>
            <a class="block py-2 px-4 text-lg font-normal hover:bg-orange-500 hover:text-white rounded" href="./services.html">Services</a>
            <a class="block py-2 px-4 text-lg font-normal hover:bg-orange-500 hover:text-white rounded" href="./aboutUs.html">About Us</a>
            <a class="block py-2 px-4 text-lg font-normal hover:bg-orange-500 hover:text-white rounded" href="./contactUs.html">Contact Us</a>
            <!-- <a class="block py-2 px-4 text-lg font-normal hover:bg-orange-500 hover:text-white rounded" href="./termsAndConditions.html">Terms & Condition</a>
            <button class="h-12 w-48 text-lg bg-slate-950 text-white rounded-full p-2 flex items-center justify-center">
                <img src="img/Male User.png" class="w-8 h-7" alt="">
                <p>Login/Signup</p>
            </button> -->
        </div>


<!-- ======================== Navbar End ========================= -->
    <!-- <h2>Order Form</h2>
    <form id="orderForm" name="form">
        <div id="final"><h1></h1></div>
        <input type="text" id="name" name="name" placeholder="Enter your name" required>
        <input type="text" id="mobile" name="mobile" placeholder="Enter mobile number" required>
        <textarea name="list" id="list"></textarea>
        <textarea id="address" name="address" placeholder="Enter your address" required></textarea>
        <button type="submit">Submit Order</button>
    </form> -->
    <section class="flex w-screen items-center justify-center min-h-screen bg-gray-100 p-4">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
            <h2 class="text-2xl font-semibold text-center text-gray-700 mb-4">Complete Your Booking</h2>
            <form id="orderForm" name="form" class="space-y-4">
                <div id="final"><h1></h1></div> <!-- //result message-->
                <input type="text" id="name" placeholder="Your Name" name="name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">
                <input type="number" id="mobile" name="mobile" placeholder="Your Mobile Number" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">
                <textarea  name="list" id="list" placeholder="Cart Item"  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none"></textarea>
                <textarea  id="address" name="address" placeholder="Enter your address" rows="1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none"></textarea>
                <button type="submit" id="submitButton" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition duration-200">Confirm Your Booking</button>
            </form>
            <!-- <form id="orderForm" name="form">
                <div id="final"><h1></h1></div>
                <input type="text" id="name"  placeholder="Enter your name" required>
                <input type="number" id="mobile" name="mobile" placeholder="Enter mobile number" required>
                <textarea name="list" id="list"></textarea>
                <textarea  required></textarea>
                <button type="submit">Submit Order</button>
            </form> -->
        </div>
    </section>
     <!-- =========================  cart section ============================== -->
       <!-- Cart Section -->
       <!-- <div class="w-full md:w-1/4 hidden md:block bg-slate-200 p-4 shadow rounded fixed md:static right-4 bottom-16" id="cart-section">
            <h2 class="text-xl font-semibold mb-4">Cart</h2>
            <div id="cart" class="space-y-2">
                <p class="text-gray-500">No items in your cart</p>
            </div>
        
        </div> -->
<!-- </div> -->
     <!-- =========================  cart section ============================== -->
     <!-- =========================  Footer section ============================== -->

     <!-- Modal Popup -->
      <div id="popupModal" class="hidden">
        <div  class="fixed inset-0  bg-opacity-50 flex items-center justify-center ">
            <div class="bg-white p-6 rounded-lg shadow-lg w-80 text-center">
                <h2 class="text-xl font-semibold mb-4">Order Confirmed!</h2>
                <p>Your order has been successfully placed.</p>
                <button id="closeModal" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">OK</button>
            </div>
        </div>
        </div>

     <footer class="bg-gray-900 text-white mt-5 py-10">
        <div class="container mx-auto px-6 lg:px-20">
            <!-- Footer Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-center sm:text-left">
                
                <!-- Logo & About -->
                <div>
                    <img src="../img/logo.webp" alt="Company Logo" class="mx-auto sm:mx-0 w-28 h-auto">
                    <p class="mt-4 text-gray-400 text-sm">
                        Providing top-notch cleaning services with expert professionals. We ensure cleanliness and hygiene at its best.
                    </p>
                </div>
    
                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-semibold mb-3 text-orange-400">Quick Links</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="../index.html" class="hover:text-white">Home</a></li>
                        <li><a href="./services.html" class="hover:text-white">Services</a></li>
                        <li><a href="./aboutUs.html" class="hover:text-white">About Us</a></li>
                        <li><a href="./privacyPolicy.html" class="hover:text-white">Privacy Policy</a></li>
                        <li><a href="./termsAndConditions.html" class="hover:text-white">Terms And Conditions</a></li>
                    </ul>
                </div>
    
                <!-- Our Services -->
                <div>
                    <h3 class="text-lg font-semibold mb-3 text-orange-400">Our Services</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="./homeCleaning.html?type=Full%20Home%20Dusting,Full%20Home%20Cleaning,Room%20Cleaning" class="hover:text-white">Home Cleaning</a></li>
                        <li><a href="./bathroomCleaning.html?type=Bathroom%20Cleaning" class="hover:text-white">Bathroom Cleaning</a></li>
                        <li><a href="./sofaDryCleaning.html?type=Sofa%20Cleaning,Carpet%20Cleaning,Mattress%20Cleaning" class="hover:text-white">Sofa & Dry Cleaning</a></li>
                        <li><a href="./homeDusting.html?type=Floor%20Scrubbing" class="hover:text-white">Floor Scrubbing</a></li>
                        <li><a href=./miniServices.html?type=Mini%20Services,Fan%20Cleaning" class="hover:text-white">Mini Services</a></li>
                    </ul>
                </div>
    
                <!-- Contact Info -->
                <div>
                    <!-- <h3 class="text-lg font-semibold mb-3 text-orange-400">Contact Us</h3>
                    <p class="text-gray-400 text-sm">📍 123 Clean Street, City</p>
                    <p class="text-gray-400 text-sm">📧 contact@cleaningservice.com</p>
                    <p class="text-gray-400 text-sm">📞 +123 456 7890</p> -->
              
                        <h3 class="text-lg font-semibold mb-3 text-orange-400">Contact Us</h3>
                        
                         <!-- Email Link -->
                         <p class="text-gray-400 text-sm my-3"> <a href="https://mail.google.com/mail/?view=cm&fs=1&to=cleannestsolutions3100@gmail.com" target="_blank"
                class="text-gray-400 my-3 mb-3 text-sm">
                 📧 Send Email: cleannestsolutions3100@gmail.com
             </a> </p>
        
             <!-- Phone Call Link -->
             <p class="text-gray-400 text-sm my-3">
             <a href="tel:+918817366188"
                class="text-gray-400 text-sm my-3">
                 📞 Call: +91 8817366188
             </a></p>
        
             <!-- Google Maps Link -->
             <p class="text-gray-400 text-sm my-3">
             <a href="https://g.page/r/CbAoxnAm_Z57EBE/"   target="_blank"
                class="text-gray-400 text-sm py-4">
                🏠  Address: <br> Mandakini Colony, Kolar Rd, Bhopal, Madhya Pradesh 462042
             </a></p>
        
             
                   
                </div>
            </div>
    
            <!-- Copyright Section -->
            <div class="mt-10 border-t border-gray-700 pt-5 text-center text-gray-400 text-sm">
                &copy; 2025 Sonu Rey Cleaning. All Rights Reserved.
            </div>
        </div>
    </footer>

    
    

        <script>
            document.getElementById("closeModal").addEventListener("click", function() {
                document.getElementById("popupModal").classList.add("hidden");
            });
        </script>
    <!-- =========================  Footer section End =========================== -->
    <script src="../script/navResponsive.js"></script>
    
    <script>

           

            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartList = cart.map(item => {
                return `${item.name} (Qty: ${item.quantity})`; // Modify based on your object structure
            }).join(", ");
            // const cartItems = 
            document.getElementById('list').value = cartList;
            // cartItems.innerHTML = cartList;
            console.log("cart: ",cartList);

            function isValidIndianNumber(number) {
                        const regex = /^[6-9]\d{9}$/;
                        return regex.test(number);
                    }
            

        const url = 'https://script.google.com/macros/s/AKfycbwuDoDfysr2zvJWnbeqImn5R0WBzYYnLPJQgnbyovTRG_jq3KAkCIKX5vgyC9uPdls/exec'
            const form = document.forms['form'];
            const result = document.getElementById('final');
            form.addEventListener("submit",(e)=>{
            e.preventDefault();
            const name1 = document.getElementById("name").value.trim();
            const mobile1 = document.getElementById("mobile").value.trim();
            const address1 = document.getElementById("address").value.trim();
            const c1 =  document.getElementById('list').value.trim();

            // console.log("name: ", name1);
            // console.log("mobile: ", mobile1);
            // console.log("adress: ", address1);
            

            if (!name1 || !address1 || !c1) {
                alert("Please fill out all fields.");
                return;
            }

            if (!isValidIndianNumber(mobile1)) {
                alert("Please enter valid number");
                return;
            }

            const formData = new FormData(form);
    //         for (let [key, value] of formData.entries()) {
    //     console.log(`${key}: ${value}`);
    // }

                    fetch(url,{
                        method:"POST",
                        body : formData
                    })
                    .then((res)=>res.text())
                    .then((finalRes)=>{
                            result.innerHTML = finalRes;
                            result.style.color = 'green'

                            document.getElementById("popupModal").classList.remove("hidden");

                            // Clear cart after successful submission
                            localStorage.removeItem("cart");
                            document.getElementById('list').value = ""; // Reset input field
                            document.getElementById("name").value = "";
                            document.getElementById("mobile").value = "";
                            document.getElementById("address").value = "";
                            setTimeout(()=>{
                                result.innerHTML = ''
                            },5000)
                        })
                    .catch(error => {
                            console.error("Error : ", error);
                            result.innerHTML = error;
                            result.style.color = 'red'
                            setTimeout(()=>{
                                result.innerHTML = ''
                            },5000)
                        
                        });

            })
    </script>
</body>
</html>
